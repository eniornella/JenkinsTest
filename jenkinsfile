pipeline {
    agent {label "worker1"}
    tools {
        mvn 'maven-3.8.2'
    }
    stages { 
        stage('checkoutcode'){
            steps {
               git changelog: false, poll: false, url: 'https://github.com/eniornella/DevOpsClassCodes.git' 
            }
        }

        stage('compile'){
            steps {
                echo 'compiling has started'
                dir(''){
                    sh '/var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.2/bin/mvn compile'

                }
            }
        }

        stage('test'){
               steps {
                    echo 'Testing has started'
                dir(''){
                    sh '/var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.2/bin/mvn test'
                }
               }
                }

        stage('package'){
               steps {
                    echo 'Pakcaging has started'
                dir(''){
                    sh '/var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.2/bin/mvn package'}

               }
                }
    }
}
